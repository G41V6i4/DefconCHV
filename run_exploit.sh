#!/bin/bash

echo "🚗 ECU Complete Exploitation Script 🚗"
echo "========================================"

# 스크립트 실행 위치 확인
if [ ! -f "/app/complete_exploit.py" ]; then
    echo "❌ Exploit script not found at /app/complete_exploit.py"
    echo "Make sure this script is running inside the infotainment container"
    exit 1
fi

# Python 스크립트 실행 권한 부여
chmod +x /app/complete_exploit.py

echo "🔧 Starting complete ECU exploitation..."
echo "This will attempt to:"
echo "  1. Exploit infotainment ECU (RCE)"
echo "  2. Connect to CAN broker"
echo "  3. Bypass gateway authentication"
echo "  4. Attack engine ECU for final flag"
echo ""

# Python 익스플로잇 실행
python3 /app/complete_exploit.py

echo ""
echo "🏁 Exploitation attempt completed!"